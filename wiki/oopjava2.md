# Абстракция

- Абстракция означава, моделирайки в обектно-ориентиран език за програмиране обекти от реалния или виртуалния свят, да се ограничим само до съществените им за конкретната задача характеристики и да се абстрахираме (пропуснем) в модела несъществените или нерелевантни за задачата
  - Пример: моделирайки студент, да го характеризираме само с име и факултетен номер, абстрахирайки се от всички други характеристики на студента в реалния свят (напр. цвят на очите)
- Абстракция също означава да работим с нещо, което знаем как да използваме, без да знаем как работи вътрешно. Всяка конкретна имплементация на поведение е скрита в своя обект, за външния свят е видимо само поведението (т.е. интерфейсът)
- Принципът за абстракция се постига в Java чрез интерфейси и абстрактни класове

# Абстрактни класове

- Дефинират се с модификатора ```abstract```
- Могат да имат методи без имплементация, които се декларират с модификатора ```abstract```
- Не са напълно дефинирани (оставят на наследниците си да ги конкретизират/допълнят)
  - не могат да се създават обекти от тях
- Един клас не може да бъде едновременно ```abstract``` и ```final```

## Пример

```
public abstract class Cat {
    public void move() {
        System.out.println("I am walking on 4 toes.");
    }

    public void communicate() {
        System.out.println("I mew.");
    }

    public abstract void eat();
}

public class DomesticCat extends Cat {
    public void eat() {
        System.out.println("I eat Whiskas.");
    }
}

public class Leopard extends Cat {
    public void eat() {
        System.out.println("I eat any prey.");   
    }
}
```
## Интерфейси

- Съвкупност от декларации на методи без имплементация
- Описват формално поведение, без да го имплементират
- Може да съдържат static final член-променливи == константи
- От Java 8 може да съдържат също default и static методи с имплементация
- От Java 9 – и private методи с имплементация

```
public interface Animal {
    void move();
    void communicate();
}

public class Human implements Animal {
    private String name;

    public Human(String name) {
        this.name = name;
    }
    public void move() {
        System.out.println("I am walking using two legs");
    }
    public void communicate() {
        System.out.println("I speak");
    }
}

public class Cat implements Animal {
    public void move() {
        System.out.println("I am walking using 4 toes");
    }
    public void communicate() {
        System.out.println("I mew");
    }
}
```

### Задача

Създайте клас който дефинира поведението на Риба


## Интерфейси и наследяване

- Интерфейсите могат да се наследяват
- Един интерфейс може да наследява множество интерфейси

## Интерфейсите и имплементаците им

- Интерфейсите не могат да се инстанцират
- Можем да инстанцираме (конкретни) класове, които ги имплементират
- Можем да присвояваме инстанция на клас на променлива от тип интерфейс, който класът имплементира
- Можем да проверяваме с instanceof дали клас имплементира даден интерфейс
- Един клас може да имплементира множество интерфейси
- Ако даден клас декларира, че имплементира интерфейс, той трябва или
  - да даде дефиниции на всичките му методи, или
  - да бъде деклариран като абстрактен
- Като следствие, ако променим сигнатурата на метод(и) на интерфейса, или ако добавим нов(и) метод(и), трябва да променим и всички имплементиращи интерфейса класове
- Това често е проблем, а понякога е и невъзможно (нямаме контрол върху всички имплементации)

## Enums

- Специален референтен тип (клас), представящ фиксирано множество от инстанции-константи
- Нарича се enum(eration), защото инстанциите се дефинират чрез изброяване

```
public enum Day {
    SUNDAY,
    MONDAY,
    TUESDAY,
    WEDNESDAY,
    THURSDAY,
    FRIDAY,
    SATURDAY
}
```
- Всеки enum неявно наследява абстрактния клас java.lang.Enum
  - не може да наследява явно друг клас, защото би било множествено наследяване
  - може да имплементира интерфейси
- Тялото на enum класа може да съдържа член-променливи и методи
- Ако има конструктор, той трябва да е package-private или private
- Той автоматично създава константите в дефиницията на enum-a. Не може да се извиква явно

### Задача 

създайте клас, който да извежда в конзолата деня от седмицата дали е делничен (working days) или почивен (holidays)

- Компилаторът добавя автоматично и няколко специални статични методи:
  - values() - връща масив, съдържащ всички стойности в enum, в реда, в който са изброени в декларацията
  - valueОf(String name) - връща enum константата по даденото име

### Задача

Добавете в main извеждане на всички дни от седмицата с foreach, цикъл



